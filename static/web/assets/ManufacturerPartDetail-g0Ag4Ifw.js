import{r as o,i as a,j as t,cw as g,d4 as R,bx as W,bw as v,d6 as G,S as B}from"./vendor-DM3YzW4g.js";import{b as N,A as s,U as l,e as w,m as r,h as S}from"./index-D337eai7.js";import{A as O}from"./AdminButton-DDvP9DUk.js";import{I as q,D as F,a as Q}from"./InstanceDetail-DA14-H9g.js";import{D as Y,N as $}from"./NotesPanel-D9Ykw5_S.js";import{u as H,R as X,a as Z,I as L,O as V,b as z,E as J,D as ee}from"./InvenTreeTable-Dtz5z1-X.js";import{P as te}from"./PageDetail-Dn7pSuNG.js";import{A as ae}from"./AttachmentPanel-Dh6uocMv.js";import{P as re}from"./PanelGroup-CoO7I8l_.js";import{a as ie,b as se}from"./CompanyForms-9FjvHQe4.js";import{u as P,a as T,b as E,A as oe}from"./UseForm-TWh6_feP.js";import{u as ne}from"./UseInstance-DbwM5beB.js";import{S as le}from"./SupplierPartTable-B-SXr6UC.js";import{n as pe,a as de}from"./ThemeContext-Ch4E8_Wm.js";import"./ActionButton-Q09YVtCx.js";import"./index-BOcT9Srm.js";import"./YesNoButton-DTVLZZ3k.js";import"./DesktopAppView-DyVa6oYc.js";import"./formatters-DcPgPpLg.js";import"./ModelType-B9P_b1nX.js";import"./GenericErrorPage-D_bi0_m-.js";import"./NotFound-DAIe8IKA.js";import"./PermissionDenied-BwuEjXQw.js";import"./QRCode-C5FiSMEd.js";import"./browser-BJvvAuRs.js";import"./PageTitle-vGWzRKl1.js";import"./AttachmentLink-DtsxxBFF.js";import"./PluginSource-BculEAAL.js";import"./RemoteComponent-YA1xDtB_.js";import"./ColumnRenderers-B1TW1pd2.js";function me({params:_}){const i=H("manufacturer-part-parameter"),n=N(),e=o.useMemo(()=>[{accessor:"name",title:a._({id:"6YtxFj"}),sortable:!0,switchable:!1},{accessor:"value",title:a._({id:"wMHvYH"}),sortable:!0,switchable:!1},{accessor:"units",title:a._({id:"QrhaVg"}),sortable:!1,switchable:!0}],[]),p=ie(),[c,h]=o.useState(void 0),f=P({url:s.manufacturer_part_parameter_list,title:a._({id:"WrK5aa"}),fields:p,table:i,initialData:{manufacturer_part:_.manufacturer_part}}),u=T({url:s.manufacturer_part_parameter_list,pk:c,title:a._({id:"FDjidN"}),fields:p,table:i}),d=E({url:s.manufacturer_part_parameter_list,pk:c,title:a._({id:"qSo+g1"}),table:i}),b=o.useCallback(x=>[X({hidden:!n.hasChangeRole(l.purchase_order),onClick:()=>{h(x.pk),u.open()}}),Z({hidden:!n.hasDeleteRole(l.purchase_order),onClick:()=>{h(x.pk),d.open()}})],[n]),k=o.useMemo(()=>[t.jsx(oe,{tooltip:a._({id:"WrK5aa"}),onClick:()=>{f.open()},hidden:!n.hasAddRole(l.purchase_order)},"add-parameter")],[n]);return t.jsxs(t.Fragment,{children:[f.modal,u.modal,d.modal,t.jsx(L,{url:w(s.manufacturer_part_parameter_list),tableState:i,columns:e,props:{params:{..._},rowActions:b,tableActions:k}})]})}function Oe(){var M,y;const{id:_}=pe(),i=N(),n=de(),{instance:e,instanceQuery:p,refreshInstance:c}=ne({endpoint:s.manufacturer_part_list,pk:_,hasPrimaryKey:!0,params:{part_detail:!0,manufacturer_detail:!0}}),h=o.useMemo(()=>{var A,D,I,C;if(p.isFetching)return t.jsx(g,{});const m=e??{},j=[{type:"link",name:"part",label:a._({id:"GNd5ad"}),model:r.part,hidden:!e.part},{type:"string",name:"part_detail.IPN",label:a._({id:"3wXEsN"}),copy:!0,icon:"serial",hidden:!((A=m.part_detail)!=null&&A.IPN)},{type:"string",name:"part_detail.description",label:a._({id:"Nu4oKW"}),copy:!0,icon:"info",hidden:!e.description}],U=[{type:"link",name:"manufacturer",label:a._({id:"+m9/3S"}),icon:"manufacturers",model:r.company,hidden:!e.manufacturer},{type:"string",name:"MPN",label:a._({id:"ZCCuT2"}),copy:!0,hidden:!e.MPN,icon:"reference"},{type:"string",name:"description",label:a._({id:"Nu4oKW"}),copy:!0,hidden:!e.description,icon:"info"},{type:"link",external:!0,name:"link",label:a._({id:"0R4wMK"}),copy:!0,hidden:!e.link}];return t.jsxs(q,{children:[t.jsxs(R,{grow:!0,children:[t.jsx(Y,{appRole:l.part,src:(D=e==null?void 0:e.part_detail)==null?void 0:D.image,apiPath:w(s.part_list,(I=e==null?void 0:e.part_detail)==null?void 0:I.pk),pk:(C=e==null?void 0:e.part_detail)==null?void 0:C.pk}),t.jsx(R.Col,{span:{base:12,sm:8},children:t.jsx(F,{title:a._({id:"sQRZ1+"}),fields:j,item:m})})]}),t.jsx(F,{title:a._({id:"BCSxrX"}),fields:U,item:m})]})},[e,p]),f=o.useMemo(()=>[{name:"details",label:a._({id:"uN9giG"}),icon:t.jsx(W,{}),content:h},{name:"parameters",label:a._({id:"F18WP3"}),icon:t.jsx(v,{}),content:e!=null&&e.pk?t.jsx(me,{params:{manufacturer_part:e.pk}}):t.jsx(g,{})},{name:"suppliers",label:a._({id:"9RecCt"}),icon:t.jsx(G,{}),content:e!=null&&e.pk?t.jsx(le,{params:{manufacturer_part:e.pk}}):t.jsx(g,{})},ae({model_type:r.manufacturerpart,model_id:e==null?void 0:e.pk}),$({model_type:r.manufacturerpart,model_id:e==null?void 0:e.pk})],[e]),u=se(),d=T({url:s.manufacturer_part_list,pk:e==null?void 0:e.pk,title:a._({id:"b30yxS"}),fields:u,onFormSuccess:c}),b=P({url:s.manufacturer_part_list,title:a._({id:"uOeMYf"}),fields:u,initialData:{...e},follow:!0,modelType:r.manufacturerpart}),k=E({url:s.manufacturer_part_list,pk:e==null?void 0:e.pk,title:a._({id:"fMDrRl"}),onFormSuccess:()=>{n(S(r.part,e.part))}}),x=o.useMemo(()=>[t.jsx(O,{model:r.manufacturerpart,id:e.pk},"admin"),t.jsx(V,{tooltip:a._({id:"D/ppgk"}),actions:[z({hidden:!i.hasAddRole(l.purchase_order),onClick:()=>b.open()}),J({hidden:!i.hasChangeRole(l.purchase_order),onClick:()=>d.open()}),ee({hidden:!i.hasDeleteRole(l.purchase_order),onClick:()=>k.open()})]},"options")],[i,e]),K=o.useMemo(()=>{var m,j;return[{name:a._({id:"UOTpFa"}),url:"/purchasing/"},{name:((m=e==null?void 0:e.manufacturer_detail)==null?void 0:m.name)??a._({id:"+m9/3S"}),url:`/purchasing/manufacturer/${(j=e==null?void 0:e.manufacturer_detail)==null?void 0:j.pk}/`}]},[e]);return t.jsxs(t.Fragment,{children:[k.modal,b.modal,d.modal,t.jsx(Q,{query:p,requiredPermission:r.manufacturerpart,children:t.jsxs(B,{gap:"xs",children:[t.jsx(te,{title:a._({id:"WssheI"}),subtitle:`${e.MPN} - ${(M=e.part_detail)==null?void 0:M.name}`,breadcrumbs:K,lastCrumb:[{name:e.MPN,url:S(r.manufacturerpart,e.pk)}],actions:x,imageUrl:(y=e==null?void 0:e.part_detail)==null?void 0:y.thumbnail,editAction:d.open,editEnabled:i.hasChangePermission(r.manufacturerpart)}),t.jsx(re,{pageKey:"manufacturerpart",panels:f,instance:e,reloadInstance:c,model:r.manufacturerpart,id:e.pk})]})})]})}export{Oe as default};
//# sourceMappingURL=ManufacturerPartDetail-g0Ag4Ifw.js.map
