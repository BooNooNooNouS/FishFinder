import{r as l,i as s,j as e,S as C,bW as a}from"./vendor-DM3YzW4g.js";import{b as S,A as r,U as d,e as _}from"./index-D337eai7.js";import{S as h}from"./ThemeContext-Ch4E8_Wm.js";import{u as j,R as w,a as R,I as U}from"./InvenTreeTable-Dtz5z1-X.js";import{B as f}from"./ColumnRenderers-B1TW1pd2.js";import{u as g,a as F,b as M,A as T}from"./UseForm-TWh6_feP.js";import{c as x}from"./CommonForms-BLD2bvwT.js";import"./DesktopAppView-DyVa6oYc.js";import"./index-BOcT9Srm.js";import"./ActionButton-Q09YVtCx.js";import"./QRCode-C5FiSMEd.js";import"./browser-BJvvAuRs.js";import"./YesNoButton-DTVLZZ3k.js";import"./formatters-DcPgPpLg.js";function E(){const o=j("custom-units"),t=S(),m=l.useMemo(()=>[{accessor:"name",switchable:!1,sortable:!0},{accessor:"definition",switchable:!1,sortable:!1},{accessor:"symbol",switchable:!1,sortable:!0}],[]),c=g({url:r.custom_unit_list,title:s._({id:"W3xtIU"}),fields:x(),table:o}),[u,i]=l.useState(-1),p=F({url:r.custom_unit_list,pk:u,title:s._({id:"MiLRVK"}),fields:x(),onFormSuccess:n=>o.updateRecord(n)}),b=M({url:r.custom_unit_list,pk:u,title:s._({id:"UbQkdF"}),table:o}),A=l.useCallback(n=>[w({hidden:!t.hasChangeRole(d.admin),onClick:()=>{i(n.pk),p.open()}}),R({hidden:!t.hasDeleteRole(d.admin),onClick:()=>{i(n.pk),b.open()}})],[t]),k=l.useMemo(()=>{const n=[];return n.push(e.jsx(T,{tooltip:s._({id:"VzcXtA"}),onClick:()=>c.open(),hidden:!t.isStaff()||!t.hasChangeRole(d.admin)})),n},[t]);return e.jsxs(e.Fragment,{children:[c.modal,p.modal,b.modal,e.jsx(U,{url:_(r.custom_unit_list),tableState:o,columns:m,props:{rowActions:A,tableActions:k,enableDownload:!0}})]})}function I(){const o=j("all-units","name"),t=l.useMemo(()=>[{accessor:"name",title:s._({id:"6YtxFj"})},f({accessor:"is_alias",title:s._({id:"EbuTi3"})}),f({accessor:"isdimensionless",title:s._({id:"jPCGbw"})})],[]);return e.jsx(U,{url:_(r.all_units),tableState:o,columns:t,props:{enableSearch:!1,enablePagination:!1,enableColumnSwitching:!1,dataFormatter:m=>{const c=m.available_units??{};return Object.entries(c).map(([u,i])=>({name:i.name,is_alias:i.is_alias,compatible_units:i.compatible_units,isdimensionless:i.isdimensionless}))}}})}function X(){return e.jsx(C,{gap:"xs",children:e.jsxs(a,{defaultValue:"custom",children:[e.jsxs(a.Item,{value:"custom",children:[e.jsx(a.Control,{children:e.jsx(h,{size:"lg",children:s._({id:"h0kQrk"})})}),e.jsx(a.Panel,{children:e.jsx(E,{})})]},"custom"),e.jsxs(a.Item,{value:"all",children:[e.jsx(a.Control,{children:e.jsx(h,{size:"lg",children:s._({id:"iJcU0G"})})}),e.jsx(a.Panel,{children:e.jsx(I,{})})]},"all")]})})}export{X as default};
//# sourceMappingURL=UnitManagementPanel-gXdYwYhZ.js.map
