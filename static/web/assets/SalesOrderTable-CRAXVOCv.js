import{r as l,i as r,j as t}from"./vendor-DM3YzW4g.js";import{u as f,A as C}from"./UseForm-TWh6_feP.js";import{b as F,m as a,A as m,U as y,e as h}from"./index-D337eai7.js";import{b as j}from"./formatters-DcPgPpLg.js";import{u as ee}from"./ReturnOrderForms-Dp-VvvNE.js";import{u as x,n as D,o as T,p as R,q as S,M as g,r as A,s as M,t as V,T as O,v as B,w,x as U,y as v,z as P,G as k,F as E,J,K,d as z,I as Z}from"./InvenTreeTable-Dtz5z1-X.js";import{R as q,D as L,g as N,S as W,b as G,h as H,i as Q,j as X,k as Y,l as re,m as $,C as I,o as te}from"./ColumnRenderers-B1TW1pd2.js";import{P as se}from"./index-BOcT9Srm.js";import{u as ae}from"./SalesOrderForms-nAHetcpY.js";function _e({partId:s,customerId:o}){const c=x(s?"returnorders-part":"returnorders-index"),n=F(),p=l.useMemo(()=>{const e=[D({model:a.returnorder}),T(),R(),S(),g(),A(),M(),V(),O(),B(),w(),U(),{name:"has_target_date",type:"boolean",label:r._({id:"egtJvp"}),description:r._({id:"hnmJUh"})},{name:"has_start_date",type:"boolean",label:r._({id:"7Cajbj"}),description:r._({id:"dklbxT"})},v(),P(),k(),E(),J(),K()];return s&&e.push(z()),e},[s]),_=l.useMemo(()=>[q({}),{accessor:"customer__name",title:r._({id:"876pfE"}),sortable:!0,render:e=>t.jsx(I,{company:e.customer_detail})},{accessor:"customer_reference"},L({}),N(),W({model:a.returnorder}),G({defaultVisible:!1}),H({defaultVisible:!1}),Q({defaultVisible:!1}),X({defaultVisible:!1}),Y({}),re({accessor:"complete_date"}),$({}),{accessor:"total_price",title:r._({id:"KyZVKD"}),sortable:!0,render:e=>{var i;return j(e.total_price,{currency:e.order_currency||((i=e.customer_detail)==null?void 0:i.currency)})}}],[]),d=ee({}),u=f({url:m.return_order_list,title:r._({id:"mpNlR/"}),fields:d,initialData:{customer:o},follow:!0,modelType:a.returnorder}),b=l.useMemo(()=>[t.jsx(C,{tooltip:r._({id:"mpNlR/"}),onClick:()=>u.open(),hidden:!n.hasAddRole(y.return_order)},"add-return-order")],[n]);return t.jsxs(t.Fragment,{children:[u.modal,t.jsx(Z,{url:h(m.return_order_list),tableState:c,columns:_,props:{params:{part:s,customer:o,customer_detail:!0},tableFilters:p,tableActions:b,modelType:a.returnorder,enableSelection:!0,enableDownload:!0,enableReports:!0}})]})}function be({partId:s,customerId:o}){const c=x(s?"salesorder-part":"salesorder-index"),n=F(),p=l.useMemo(()=>{const e=[D({model:a.salesorder}),T(),R(),S(),g(),A(),M(),V(),O(),B(),w(),U(),{name:"has_target_date",type:"boolean",label:r._({id:"egtJvp"}),description:r._({id:"hnmJUh"})},{name:"has_start_date",type:"boolean",label:r._({id:"7Cajbj"}),description:r._({id:"dklbxT"})},v(),P(),k(),E(),J(),K()];return s&&e.push(z()),e},[s]),_=ae({}),d=f({url:m.sales_order_list,title:r._({id:"VzdnWM"}),fields:_,initialData:{customer:o},follow:!0,modelType:a.salesorder}),u=l.useMemo(()=>[t.jsx(C,{tooltip:r._({id:"VzdnWM"}),onClick:()=>d.open(),hidden:!n.hasAddRole(y.sales_order)},"add-sales-order")],[n]),b=l.useMemo(()=>[q({}),{accessor:"customer__name",title:r._({id:"876pfE"}),sortable:!0,render:e=>t.jsx(I,{company:e.customer_detail})},{accessor:"customer_reference",title:r._({id:"ZVUe1A"})},L({}),N(),{accessor:"shipments_count",title:r._({id:"aljM0q"}),render:e=>t.jsx(se,{progressLabel:!0,value:e.completed_shipments_count,maximum:e.shipments_count})},W({model:a.salesorder}),G({defaultVisible:!1}),H({defaultVisible:!1}),Q({defaultVisible:!1}),X({defaultVisible:!1}),Y({}),te({}),$({}),{accessor:"total_price",title:r._({id:"KyZVKD"}),sortable:!0,render:e=>{var i;return j(e.total_price,{currency:e.order_currency||((i=e.customer_detail)==null?void 0:i.currency)})}}],[]);return t.jsxs(t.Fragment,{children:[d.modal,t.jsx(Z,{url:h(m.sales_order_list),tableState:c,columns:b,props:{params:{customer_detail:!0,part:s,customer:o},tableFilters:p,tableActions:u,modelType:a.salesorder,enableSelection:!0,enableDownload:!0,enableReports:!0}})]})}export{_e as R,be as S};
//# sourceMappingURL=SalesOrderTable-CRAXVOCv.js.map
