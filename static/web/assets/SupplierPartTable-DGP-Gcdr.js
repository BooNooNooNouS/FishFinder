import{r,j as s,i as t,B as x}from"./vendor-DM3YzW4g.js";import{u as T,A as j,a as M,b as D}from"./UseForm-Dpdzd-Qg.js";import{u as E,R,a as y,I as w}from"./InvenTreeTable-CvoMTeKF.js";import{b as g,A as p,U as n,m as U,e as B}from"./index-620rTnyc.js";import{u as h}from"./CompanyForms-9FjvHQe4.js";import{P as N,D as Q,B as V,c as I,L,N as O,C,T as P}from"./ColumnRenderers-BrlSSC84.js";function K({params:a}){const u=E("supplierparts"),i=g(),S=r.useMemo(()=>[{accessor:"part",switchable:"part"in a,sortable:!0,render:e=>N({part:e==null?void 0:e.part_detail,full_name:!0})},{accessor:"supplier",sortable:!0,render:e=>s.jsx(C,{company:e==null?void 0:e.supplier_detail})},{accessor:"SKU",title:t._({id:"nne72x"}),sortable:!0},Q({}),{accessor:"manufacturer",title:t._({id:"+m9/3S"}),sortable:!0,render:e=>s.jsx(C,{company:e==null?void 0:e.manufacturer_detail})},{accessor:"MPN",sortable:!0,title:t._({id:"TOxiOu"}),render:e=>{var l;return(l=e==null?void 0:e.manufacturer_part_detail)==null?void 0:l.MPN}},V({accessor:"active",title:t._({id:"F6pfE9"}),sortable:!0,switchable:!0,defaultVisible:!1}),I({accessor:"in_stock",sortable:!0}),{accessor:"packaging",sortable:!0,defaultVisible:!1},{accessor:"pack_quantity",sortable:!0,render:e=>{const l=(e==null?void 0:e.part_detail)??{},f=[];return l.units&&f.push(s.jsxs(x,{children:[t._({id:"v9F5VO"})," : ",l.units]},"base")),s.jsx(P,{value:e.pack_quantity,extra:f,title:t._({id:"J9LTXQ"})})}},L({}),O({}),{accessor:"available",sortable:!0,defaultVisible:!1,render:e=>{const l=[];return e.availablility_updated&&l.push(s.jsxs(x,{children:[t._({id:"+b7T3G"})," : ",e.availablility_updated]})),s.jsx(P,{value:e.available,extra:l})}}],[a]),k=h({partId:a==null?void 0:a.part}),o=T({url:p.supplier_part_list,title:t._({id:"EREF+D"}),fields:k,initialData:{part:a==null?void 0:a.part,supplier:a==null?void 0:a.supplier},table:u,successMessage:t._({id:"LjPQ/X"})}),A=r.useMemo(()=>[s.jsx(j,{tooltip:t._({id:"PsAftp"}),onClick:()=>o.open(),hidden:!i.hasAddRole(n.purchase_order)},"add-supplier-part")],[i]),v=r.useMemo(()=>[{name:"active",label:t._({id:"F6pfE9"}),description:t._({id:"fPFpxB"})},{name:"part_active",label:t._({id:"9RQlSP"}),description:t._({id:"AS2E8V"})},{name:"supplier_active",label:t._({id:"2OQxz2"}),description:t._({id:"T+mlMU"})},{name:"has_stock",label:t._({id:"zn38D/"}),description:t._({id:"u22Ntx"})}],[]),d=h({}),[c,_]=r.useState(0),b=M({url:p.supplier_part_list,pk:c,title:t._({id:"qZstuw"}),fields:d,table:u}),m=D({url:p.supplier_part_list,pk:c,title:t._({id:"9Qoago"}),table:u}),F=r.useCallback(e=>[R({hidden:!i.hasChangeRole(n.purchase_order),onClick:()=>{_(e.pk),b.open()}}),y({hidden:!i.hasDeleteRole(n.purchase_order),onClick:()=>{_(e.pk),m.open()}})],[i,d]);return s.jsxs(s.Fragment,{children:[o.modal,b.modal,m.modal,s.jsx(w,{url:B(p.supplier_part_list),tableState:u,columns:S,props:{params:{...a,part_detail:!0,supplier_detail:!0,manufacturer_detail:!0},rowActions:F,enableDownload:!0,tableActions:A,tableFilters:v,modelType:U.supplierpart}})]})}export{K as S};
//# sourceMappingURL=SupplierPartTable-DGP-Gcdr.js.map
